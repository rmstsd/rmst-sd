<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body></body>

  <script>
    class Ps {
      constructor() {}

      on(evtName, cb) {
        this[evtName] ? this[evtName].push(cb) : (this[evtName] = [cb])
      }

      emit(evtName, ...rest) {
        const cbs = this[evtName]
        if (cbs) {
          cbs.forEach(cb => {
            cb.apply(null, rest)
          })
        }
      }
    }

    const example = new Ps()

    example.on('eat', (...rest) => {
      console.log(rest)
    })

    example.on('eat', () => {
      console.log(666)
    })

    example.emit('eat', 1, 2, 3)

    console.log(example)
  </script>
</html>
