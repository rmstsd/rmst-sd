<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>sd</title>

    <style></style>
  </head>

  <body>
    <div contenteditable="true" style="padding: 10px; height: 500px"></div>

    <div>
      asda
      <br />
      sdasdasddfghfgh asdadiv

      <div></div>
    </div>
    <script>
      // 获取 title 元素
      const titleElement = document.querySelector('title')

      // 如果没有找到 title 元素，则退出
      if (!titleElement) {
        console.warn('未找到 title 元素')
        return
      }

      // 创建一个 MutationObserver 实例
      const observer = new MutationObserver(mutationsList => {
        for (const mutation of mutationsList) {
          if (mutation.type === 'childList') {
            // 当 title 元素的子节点发生变化时触发
            const newTitle = document.title
            callback(newTitle)
          }
        }
      })

      // 配置观察选项
      const config = { childList: true }

      // 开始观察 title 元素
      observer.observe(titleElement, config)
    </script>
  </body>
</html>
