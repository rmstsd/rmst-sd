<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Sd</title>

    <style>
      body {
        margin: 0;
      }
    </style>
  </head>

  <body>
    <canvas width="600" height="600" style="border: 1px solid red"></canvas>

    <script>
      const canvas = document.querySelector('canvas')
      const ctx = canvas.getContext('2d')

      let mt = new DOMMatrix()

      draw()
      function draw() {
        ctx.resetTransform()
        ctx.clearRect(0, 0, canvas.width, canvas.height)

        ctx.setTransform(mt)
        ctx.fillRect(10, 10, 200, 100)
      }

      canvas.addEventListener('wheel', evt => {
        evt.preventDefault()

        let zoom = Math.exp(-evt.deltaY * 0.002)

        const origin = { x: evt.clientX, y: evt.clientY }

        mt.preMultiplySelf(
          new DOMMatrix().translateSelf(origin.x, origin.y).scaleSelf(zoom, zoom).translateSelf(-origin.x, -origin.y)
        )

        draw()
      })
    </script>
  </body>
</html>
